{% extends 'basic/base.html' %} 

{% block title %}New Test{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<style>
   

    .main-content {
        flex: 1;
        padding: 40px;
        overflow-y: auto;
    }

    .card {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    .btn-generate {
        background: #6c5ce7;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 5px;
        transition: 0.3s;
    }

    .btn-generate:hover {
        background: #d0bcff;
    }

    pre {
        background: #ecf0f1;
        padding: 10px;
        border-radius: 5px;
    }
</style>
</head>

<body>

<div class="dashboard-container">



<!-- Main Content -->
<div class="main-content">
    <h1>Generate a Test</h1>

    <div class="card">
        <label for="age">Enter Patient Age:</label>
        <input type="number" id="age" class="form-control" placeholder="Enter age">
        <label for="language">Select Language:</label>
        <select id="language" class="form-control">
            <option value="en">English</option>
            <option value="sp">Spanish</option>
        </select>
        <button class="btn btn-generate mt-3" onclick="generateTest()">Generate</button>
    </div>

    <div class="card">
        <h2>Test Response</h2>
        <pre id="result">No test generated yet.</pre>
    </div>
</div>
</div>

<script>
function generateTest() {
    const age = document.getElementById("age").value;
    if (!age) {
        alert("Please enter an age");
        return;
    }
    const language = document.getElementById("language").value;

    fetch(`/basic/generate-test/?age=${age}&language=${language}`)
        .then(response => response.json())
        .then(data => {
            document.getElementById("result").textContent = JSON.stringify(data, null, 2);
        })
        .catch(error => console.error("Error:", error));
}
</script>
{% endblock %}
